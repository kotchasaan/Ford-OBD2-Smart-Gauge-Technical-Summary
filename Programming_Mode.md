## Reset TCM Adaptation

‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ **‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ESP32** ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:

1. **‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode** ‚Üí Service 10 C0  
2. **‡∏Ç‡∏≠ Security Access** ‚Üí Service 27  
3. **‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á Reset Adaptation** ‚Üí Service 10 02  

‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **Ford Ranger PJ/PK (2009) ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå WEC 3.0L TDCi, ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå 5R55S**

---

## ‚úÖ ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ô‡∏µ‡πâ

- ‡πÉ‡∏ä‡πâ **ESP32-S3-JC3248W535 + SN65HVD230** (CAN Transceiver)
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö **TCM ‡∏Ç‡∏≠‡∏á Ford Ranger** ‡∏ú‡πà‡∏≤‡∏ô **HS-CAN (500 kbps)**
- ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô **CAN bus** ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á ELM327)
- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ú‡πà‡∏≤‡∏ô **Serial Monitor**

---

## üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Reset TCM Adaptation (Ford 5R55S)

| ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô                  | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á CAN              | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏                   |
| ------------------------ | ----------------------- | -------------------------- |
| 1. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Header ‡πÑ‡∏õ TCM | `AT SH 7E1` (‡πÉ‡∏ô ELM327) | ‡πÉ‡∏ä‡πâ CAN ID 0x7E1           |
| 2. ‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode | `10 C0`                 | Service 10, Subfunction C0 |
| 3. ‡∏Ç‡∏≠ Security Access    | `27 01` ‚Üí `27 02 [key]` | ‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Key              |
| 4. Reset Adaptation      | `10 02`                 | ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á          |
| 5. ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏´‡∏°‡∏î            | `10 03`                 | Exit Programming Mode      |

> ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: Ford ‡πÉ‡∏ä‡πâ **Security Access Seed/Key** ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì

---

## üîê Security Access (Service 27) ‡∏Ç‡∏≠‡∏á Ford

Ford ‡πÉ‡∏ä‡πâ **Security Algorithm 2** (SA2) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö TCM 5R55S:

- ‡∏£‡∏±‡∏ö Seed (4 ‡πÑ‡∏ö‡∏ï‡πå) ‡∏à‡∏≤‡∏Å TCM ‚Üí `27 01`
- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Key (4 ‡πÑ‡∏ö‡∏ï‡πå) ‡∏à‡∏≤‡∏Å Seed
- ‡∏™‡πà‡∏á Key ‡∏Å‡∏•‡∏±‡∏ö ‚Üí `27 02 [key1] [key2] [key3] [key4]`

### üßÆ ‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Key (Security Algorithm 2)

```cpp
uint32_t calculateKey(uint32_t seed) {
  uint32_t key = 0;
  key = (seed >> 16) ^ (seed & 0xFFFF);
  key = (key * 0x4287) & 0xFFFFFFFF;
  key = ((key << 16) | (key >> 16)) & 0xFFFFFFFF;
  return key;
}
```

> ‚ö†Ô∏è ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏™‡∏π‡∏ï‡∏£‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢ ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö Ford TCM ‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏Å‡πà‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô 5R55S  
> ‡∏´‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ SA1 ‡∏´‡∏£‡∏∑‡∏≠ Seed/Key ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Ford

---

## üì¶ ‡πÇ‡∏Ñ‡πâ‡∏î ESP32: Reset TCM Adaptation (Ford Ranger 2009)

```cpp
#include <CAN.h>

#define TCM_TX_ID 0x7E1
#define TCM_RX_ID 0x7E9

void setup() {
  Serial.begin(115200);
  while (!Serial);

  // ‡πÄ‡∏£‡∏¥‡πà‡∏° CAN ‡∏ó‡∏µ‡πà 500kbps
  if (!CAN.begin(500E3)) {
    Serial.println("‚ùå ‡πÄ‡∏£‡∏¥‡πà‡∏° CAN ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
    while (1);
  }
  Serial.println("‚úÖ CAN ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà 500 kbps");

  delay(1000);
  resetTCMAdaptation();
}

void loop() {
  // ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
}

// --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Key ---
uint32_t calculateKey(uint32_t seed) {
  uint32_t key = 0;
  key = (seed >> 16) ^ (seed & 0xFFFF);
  key = (key * 0x4287) & 0xFFFFFFFF;
  key = ((key << 16) | (key >> 16)) & 0xFFFFFFFF;
  return key;
}

// --- ‡∏™‡πà‡∏á CAN ‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö ---
bool sendAndWait(uint8_t *req, int len, uint8_t *resp, int timeout = 1000) {
  CAN.beginPacket(TCM_TX_ID);
  for (int i = 0; i < len; i++) CAN.write(req[i]);
  CAN.endPacket();

  unsigned long start = millis();
  while (millis() - start < timeout) {
    int packetSize = CAN.parsePacket();
    if (packetSize && CAN.packetId() == TCM_RX_ID) {
      for (int i = 0; i < packetSize && i < 8; i++) {
        resp[i] = CAN.read();
      }
      return true;
    }
  }
  return false;
}

// --- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï TCM Adaptation ---
void resetTCMAdaptation() {
  uint8_t req[8] = {0};
  uint8_t resp[8] = {0};

  Serial.println("[TCM] ‡πÄ‡∏£‡∏¥‡πà‡∏° Reset Adaptation...");

  // 1. ‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode (10 C0)
  req[0] = 0x10; req[1] = 0xC0;
  if (!sendAndWait(req, 2, resp)) {
    Serial.println("[TCM] ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏≤‡∏Å TCM");
    return;
  }
  if (resp[0] != 0x50 || resp[1] != 0xC0) {
    Serial.println("[TCM] ‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß");
    return;
  }
  Serial.println("[TCM] ‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");

  // 2. ‡∏Ç‡∏≠ Security Access (27 01)
  req[0] = 0x27; req[1] = 0x01;
  if (!sendAndWait(req, 2, resp)) {
    Serial.println("[TCM] ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Seed");
    return;
  }
  if (resp[0] != 0x67 || resp[1] != 0x01) {
    Serial.println("[TCM] ‡∏Ç‡∏≠ Seed ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß");
    return;
  }

  uint32_t seed = (resp[2] << 24) | (resp[3] << 16) | (resp[4] << 8) | resp[5];
  Serial.printf("[TCM] ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Seed: 0x%08X\n", seed);

  // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Key
  uint32_t key = calculateKey(seed);
  Serial.printf("[TCM] ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Key: 0x%08X\n", key);

  // 3. ‡∏™‡πà‡∏á Key ‡∏Å‡∏•‡∏±‡∏ö (27 02 [key])
  req[0] = 0x27; req[1] = 0x02;
  req[2] = (key >> 24) & 0xFF;
  req[3] = (key >> 16) & 0xFF;
  req[4] = (key >> 8) & 0xFF;
  req[5] = key & 0xFF;

  if (!sendAndWait(req, 6, resp)) {
    Serial.println("[TCM] ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏™‡πà‡∏á Key");
    return;
  }
  if (resp[0] != 0x67 || resp[1] != 0x02) {
    Serial.println("[TCM] Security Access ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß");
    return;
  }
  Serial.println("[TCM] Security Access ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");

  // 4. ‡∏™‡πà‡∏á Reset Adaptation (10 02)
  req[0] = 0x10; req[1] = 0x02;
  if (!sendAndWait(req, 2, resp)) {
    Serial.println("[TCM] ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£ Reset");
    return;
  }
  if (resp[0] != 0x50 || resp[1] != 0x02) {
    Serial.println("[TCM] Reset Adaptation ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß");
    return;
  }
  Serial.println("‚úÖ [TCM] Reset Adaptation ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!");

  // 5. ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Programming Mode (10 03)
  req[0] = 0x10; req[1] = 0x03;
  sendAndWait(req, 2, resp);
  Serial.println("[TCM] ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Programming Mode");
}
```

---

## üîß ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

1. ‡πÉ‡∏ä‡πâ ESP32-S3-JC3248W535 + SN65HVD230
2. ‡∏ï‡πà‡∏≠ CANH/CANL ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö OBD2 ‡∏Ç‡∏≤ 6 ‡πÅ‡∏•‡∏∞ 14
3. ‡πÄ‡∏õ‡∏¥‡∏î Serial Monitor (115200 bps)
4. ‡πÄ‡∏õ‡∏¥‡∏î IG ON (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á)
5. ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° ‚Üí ‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô Serial Monitor

---

## ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á

- ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Ç‡∏ì‡∏∞ **‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå‡∏î‡∏±‡∏ö** ‡∏´‡∏£‡∏∑‡∏≠ IG ON ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‡∏´‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏Ç‡∏ì‡∏∞‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
- ‡∏´‡∏≤‡∏Å Security Access ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ 5‚Äì10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
- ‡∏´‡∏•‡∏±‡∏á‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï: ‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡πÅ‡∏ö‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥ 10‚Äì20 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ TCM ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÉ‡∏´‡∏°‡πà

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ

| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå                    | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
| -------------------------- | ----- |
| ‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode      | ‚úÖ     |
| Security Access (Seed/Key) | ‚úÖ     |
| Reset Adaptation           | ‚úÖ     |
| ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Ford Ranger 2009    | ‚úÖ     |
| ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ ELM327          | ‚úÖ     |

---

‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:

- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏° Reset
- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ö‡∏ô OLED
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Log ‡∏•‡∏á SD Card
- ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÅ‡∏≠‡∏õ Android

**‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‚Äî ‡∏ú‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!** üöÄ

‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:  

> **"‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode ‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ó‡∏≥ Reset TCM Adaptation ‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å‡∏ö‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå Ford Ranger 2009?"**

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô:

‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤ **Programming Mode (Service 10 C0)** ‡πÉ‡∏ô **Ford Ranger 2009 (PJ/PK)** ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÑ‡∏î‡πâ **‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏Ñ‡πà Reset TCM Adaptation** ‡πÄ‡∏ä‡πà‡∏ô:

1. ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Software ‡πÇ‡∏°‡∏î‡∏π‡∏• (TCM, PCM, ABS, GEM)
2. ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Parameter ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÇ‡∏°‡∏î‡∏π‡∏•
3. ‚úÖ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï Learned Values (‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö)
4. ‚úÖ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï DTC ‡∏•‡∏∂‡∏Å (Internal DTC)
5. ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå (Shift Adaptation, Line Pressure)
6. ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Parameter ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ö‡∏£‡∏Å/ABS
7. ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Parameter ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô ‡πÜ (‡πÄ‡∏ä‡πà‡∏ô HVAC, SRS)

‡πÅ‡∏ï‡πà **‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Security Access (Seed/Key)** ‡∏à‡∏∂‡∏á‡∏à‡∏∞‡∏ó‡∏≥‡πÑ‡∏î‡πâ

---

## üîß ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î: ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÉ‡∏ô Programming Mode

### üîπ 1. **‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå (Adaptation Reset)**

- ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `10 02`
- ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå, ‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô, ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏î‡∏Ñ‡∏•‡∏±‡∏ï‡∏ä‡πå, ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô, ‡∏Ø‡∏•‡∏Ø)

---

### üîπ 2. **‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï Learned Values (‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ç‡∏≠‡∏á PCM)**

- ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `10 03`, `10 04`, `10 05` ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÇ‡∏°‡∏î‡∏π‡∏•
- ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠:
  - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå (MAF, MAP, IAT)
  - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏±‡∏ß‡∏â‡∏µ‡∏î
  - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÇ‡∏ö ‡∏´‡∏£‡∏∑‡∏≠ EGR
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á, ‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÇ‡∏ö, EGR

---

### üîπ 3. **‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå (Shift Adaptation Learning)**

- ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `31 01`, `31 02`, `31 03` + Parameter
- ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö (‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å, ‡∏ä‡πâ‡∏≤, ‡∏Ø‡∏•‡∏Ø)
- ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏ö‡∏ö Real-time

---

### üîπ 4. **‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï DTC ‡∏•‡∏∂‡∏Å (Internal DTC)**

- ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `14`, `19`, `10 01`
- ‡∏ö‡∏≤‡∏á DTC ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏î‡πâ‡∏ß‡∏¢ Mode 04 ‡πÑ‡∏î‡πâ
- ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡πÅ‡∏ö‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞ (Internal DTC)

---

### üîπ 5. **‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Software ‡πÇ‡∏°‡∏î‡∏π‡∏• (Reprogramming)**

- ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `34`, `36`, `37` (Routine Control)
- ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏®‡∏π‡∏ô‡∏¢‡πå ‡πÄ‡∏ä‡πà‡∏ô **IDS**, **Forscan + J2534**
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Firmware ‡∏Ç‡∏≠‡∏á:
  - PCM (Powertrain Control Module)
  - TCM (Transmission Control Module)
  - ABS Module
  - GEM (Generic Electronic Module)
  - SRS (Airbag)

> ‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå .cal ‡∏´‡∏£‡∏∑‡∏≠ .bin ‡∏à‡∏≤‡∏Å Ford ‡πÅ‡∏•‡∏∞ Security Key ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

---

### üîπ 6. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Parameter ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ö‡∏£‡∏Å/ABS**

- ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: `2E`, `2F` (Write Data by Identifier)
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:
  - ‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤‡∏á (Tire Size)
  - ‡∏£‡∏±‡∏®‡∏°‡∏µ‡∏•‡πâ‡∏≠
  - ‡∏Ñ‡πà‡∏≤ Offset ‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå ABS
- ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏¢‡∏≤‡∏á/‡∏•‡πâ‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠‡∏ã‡πà‡∏≠‡∏° ABS

---

### üîπ 7. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Parameter ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô ‡πÜ**

| ‡πÇ‡∏°‡∏î‡∏π‡∏•    | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤                       |
| -------- | ---------------------------------------- |
| **GEM**  | ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤, ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏´‡∏ô‡πâ‡∏≤-‡∏ó‡πâ‡∏≤‡∏¢, ‡∏•‡πá‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡∏ï‡∏π  |
| **IPC**  | ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏ô‡πà‡∏ß‡∏¢ (km/h ‡∏´‡∏£‡∏∑‡∏≠ mph), ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ODO |
| **HVAC** | ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô, ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Auto   |
| **SRS**  | ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ö‡∏≤‡∏∞, ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£      |

---

## üîê ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode

| ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô                  | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á                         | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç             |
| ------------------------ | ------------------------------ | --------------------- |
| 1. ‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode | `10 C0`                        | ‚úÖ ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô              |
| 2. ‡∏Ç‡∏≠ Security Access    | `27 01` ‚Üí `27 02 [key]`        | ‚úÖ ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô              |
| 3. ‡∏ó‡∏≥‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£    | `10 02`, `31`, `2E`, `34`, ‡∏Ø‡∏•‡∏Ø | ‚úÖ ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ |
| 4. ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏´‡∏°‡∏î            | `10 03`                        | ‚úÖ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥               |

> ‚ö†Ô∏è ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ Security Key ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚Üí ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ Lock ‡πÇ‡∏°‡∏î‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 10‚Äì30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

---

## üõ†Ô∏è ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Programming Mode

| ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á             | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢                            | ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö   |
| ------------------ | ----------------------------------- | -------- |
| `10 C0`            | ‡πÄ‡∏Ç‡πâ‡∏≤ Programming Mode               | ‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏• |
| `27 01`            | ‡∏Ç‡∏≠ Seed                             | ‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏• |
| `27 02 [key]`      | ‡∏™‡πà‡∏á Key                             | ‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏• |
| `10 01`            | Reset to Default                    | PCM, TCM |
| `10 02`            | Reset Adaptation                    | TCM      |
| `10 03`            | Exit Programming Mode               | ‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏• |
| `31 01`            | Start Routine (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå) | TCM      |
| `34`               | Request Download (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï firmware)  | PCM, TCM |
| `2E [PID] [value]` | Write Data                          | ‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏• |
| `14 [DTC]`         | Clear DTC                           | ‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏• |

---

## üì± ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ

### ‚úÖ FORScan (‡∏ü‡∏£‡∏µ) + OBDLink MX+

- ‡∏≠‡πà‡∏≤‡∏ô DTC ‡∏•‡∏∂‡∏Å
- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï TCM/PCM
- ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå
- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Software (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå)
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Parameter ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á ‡πÜ

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö

> ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤ **Programming Mode (10 C0)** ‡πÉ‡∏ô Ford Ranger 2009 ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÑ‡∏î‡πâ **‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ Reset TCM** ‡πÄ‡∏ä‡πà‡∏ô:

- ‚úÖ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Ç‡∏≠‡∏á PCM/TCM
- ‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå (Shift Adaptation)
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Parameter ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ö‡∏£‡∏Å/ABS
- ‚úÖ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï DTC ‡∏•‡∏∂‡∏Å
- ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Firmware ‡πÇ‡∏°‡∏î‡∏π‡∏•
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Parameter ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô ‡πÜ

‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ **Security Access** ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞ ‡πÄ‡∏ä‡πà‡∏ô **FORScan**, **IDS**, ‡∏´‡∏£‡∏∑‡∏≠ **ESP32 ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏≠‡∏á**

---

‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:

- ‡πÇ‡∏Ñ‡πâ‡∏î ESP32 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå
- ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ FORScan ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡πå
- ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á Service 2E/31 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏°‡∏î‡∏π‡∏•

**‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‚Äî ‡∏ú‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ä‡πà‡∏ß‡∏¢‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô!** üöÄ
